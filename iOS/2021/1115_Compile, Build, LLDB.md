# 학습내용

- Step 2 PR
- LLDB

# Compile 과 Build

Build 소스코드 파일을 실행가능한 소프트웨어 산출물로 만드는 과정 (ctrl + R)

<과정>

전처리 → 컴파일 → 링크 → 빌드 

**Compile**: 소스코드 언어를 컴퓨터 언어로 변경하는 과정

**링크**: 여러개의 코드 파일이 각각 따로 컴파일되는데, 파일과 파일끼리 연결된 부분을 링크해줌 (메서드 호출..)

*링크 오류: 파일을 제대로 추가했는지 체크하기.

링크 오류나 빌드 오류 생기면 WWDC 2018 Behind the scenes of the XCode Build Process 보기

Compile

언어를 언어로 변경하는 과정

원시코드(소스코드) → 목적 코드

## 컴파일 시점(기계어 번역 방식)에 따른 언어의 분류

- 인터프리터 언어(볼때마다 번역) → 영어책을 바로 본다

브라우저가 자바스크립트 코드를 그 순간순간 번역하면서 실행하는거임

웹브라우저에서 속도가 중요한가? 게임이나 앱보다 속도가 덜중요해서 이거 써도 문제없는것

속도가 느리지만 빠른 변경이 가능하다.

개발자가 실수했어도 3초만에 수정가능 

어느 환경이든 쓸 수 있음 

- 컴파일 언어 → 한국어로 번역된 책을 본다
    - 미리 번역된걸 실행하니 실행속도가 엄청빠름
        
        → 근데 문제는 오역이 있는 경우.. 수정하기 전까지 항상 오역된 것으로 읽게됨 (버그)
        
        → 버그는 즉각 수정하기가 어려움 
        
    - 버그 수정하면 사용자가 업데이트해야함..
    - 실행 환경을 미리 세팅해야함 : 윈도우용, 맥용, 아이폰용,... 타깃별로 다 따로 빌드해야해서
    
    빌드할때 하는 언어 : 컴파일 언어
    
    ↔ 사용자가 코드를 실행했을때 즉석에서 번역해서 하는 언어 : 인터프리터 언어 ex) 자바스크립트, 파이썬... 
    
    *왜 스위프트는 컴파일언어? 게임이나 그런것들 모두 범용적으로 커버하기위해, 배터리 효율을 위해 
    
    *플레이그라운드는 실시간으로 바로 결과를 보여줘서 인터프리터 방식이라고 생각할 수 있지만,, 
    
    실시간으로 계속 컴파일을 해주는거지 인터프리터 방식이 아니다. 오오 
    

- 바이트코드 언어

: 만국 공통어는 한국어야!!!

프로그래머가 처음 작성한 코드를 만국 공용어로 컴파일하고 배포함 (중간언어로 컴파일된걸 배포)

중간언어를 해석할 수 있는 애(JVM: 자바가상머신)만 있으면 어느 시스템에서든 가능 

중국에서는 한국어 → 중국어

미국에서는 한국어 → 영어

실시간 번역도 하면서 중간언어도 가진 독특한 친구

그래서 단점도 둘다

1. 빌드하면 재배포해야하는 단점(스토어 통해서 업데이트)
2. 순간순간 실행해야해서 속도도 느리다. (안드로이드가 느린이유)

코틀린도 중간언어로 번역가능해서 자바를 쓸수있는 모든 환경에서 다 쓸수있음 

출발점: 어디에서든 이식할 수 있게하고싶다... (가전기기에 자바가 많이쓰임)

---

# GCC LLVM Clang LLDB

## GCC

GNU Compiler Collection

다양한 플랫폼에 맞는 컬렉션을 제공하는 컴파일러 컬렉션

씨언어 → 맥용 / 윈도우용 .. 다양한 컬렉션을 제공한다는 취지

오픈소스

야 내가 오픈소스로 풀었자나? 갖다 쓸려면 너네 코드도 오픈해.

→ 애플이 GCC 를 쓰고 있었음 : 미친? 공개해야대? 

→ LLVM으로 넘어감 

## LLVM

컴파일 시스템

LLVM의 프로토콜만 따르면 시스템에 맞게 구조를 바꿔주는..? ,, 

여러 시스템에서 사용 가능하도록... 

왜? 아이폰도 얼마전까지만해도 32비트 아키텍처, 64비트 아키텍처 둘다있었음.. 맥용도 따로 .. 

아키텍처마다 컴파일러를 따로 관리해야했음

우리가 만드는 소스코드를 갖다가 ARM 환경에서 동작시키려면 ARM용..인텔용..AMD용 컴파일러 다 따로 필요한데 컴파일러를 전부 설계하고 관리하는 것은 불편한 일이다.

LLVM 형식을 따르게 빌드만해주면 얘네가 다 알아서 변형시키는거

JVM같은거라고 생각하면댐

## LLDB

디버깅 하기위한 도구

LLVM front-end debugger

~~처음에 킬 때 : 빌드 후 일시정지하면 명령어 칠수있는 칸 나옴 (비추)~~

초보자들은 그냥 원하는 시점에 브레이크포인트를 잡고 시작하는 것이 나음 ㅋ

help 키워드 : 키워드가 뭔지 설명을 찾아볼 수 있음

1. 브레이크포인트 생성 : `(lldb) b ViewController.swift:23`

파일명을 명시해줘야함 

안해주면 첫번째파일인 앱딜리게이트로 들어가는듯

2. 브레이크포인트 삭제 : `breakpoint delete` - 전부 삭제

`breakpoint delete Breakpoint 4` , `breakpoint delete 4`- 특정 삭제

3. 브레이크포인트 리스트 : `breakpoint list`

4. symbol 이란? 함수명, 변수명, 아규먼트...
- changeTextColor라는 심볼에 브레이크 포인트를 설정하기 위해 입력해야 하는 LLDB 명령어는

`br s -n changeTextColor` → 이거는 파일명 안써줘도 찾는 이유가 함수는 유일해서 

- titleLabel 에도 브레이크포인트가 걸릴수있음...
- 근데 왜 변수명은 못찾지?

5. LLDB의 v, po, p 명령어의 차이에 대해 알아봅시다

찍어보기 

po : 작성자가 형식을 바꿀 수 있음 

p == print : lldb 가 기본적으로 가지고있는 형식 

→ 근데 프린트하는거랑 별반 다를게없음
